{% extends "base.html" %}

{% block content %}
  <h1>{{ action }} Post</h1>
  <form action="" method="post" name="post-form">
      {{ form.hidden_tag() }}

    <div class="input-group {% if form.title.errors %}error{% endif %}">
      <label>Post Title</label>
      {{ form.title() }}
      {% for error in form.title.errors %}
        <div class="error-msg">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="input-group {% if form.slug.errors %}error{% endif %}">
      <label>Slug (must contain only letters, numbers, and dashes)</label>
      {{ form.slug() }}
      {% for error in form.slug.errors %}
        <div class="error-msg">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="input-group {% if form.location.errors %}error{% endif %}">
      <label>Location</label>
      {{ form.location() }}
      {% for error in form.location.errors %}
        <div class="error-msg">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="input-group {% if form.body.errors %}error{% endif %}">
      <label>Post Content</label>
      {{ form.body(rows=8, cols=20) }}
      {% for error in form.body.errors %}
        <div class="error-msg">{{ error }}</div>
      {% endfor %}
    </div>

    <div class="input-group {% if form.image.errors %}error{% endif %}">
      <label>Featured image (resource path)</label>
      {{ form.image() }}
      {% for error in form.image.errors %}
        <div class="error-msg">{{ error }}</div>
      {% endfor %}
    </div>

    <button type="submit">{{ action }} Post</button>
  </form>
{% endblock %}

{% block sidebar %}
  {% include '_map.html' %}
{% endblock %}